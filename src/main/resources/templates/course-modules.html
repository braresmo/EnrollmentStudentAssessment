<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module & Content Management - EduTech</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .form-container, .table-container { transition: all 0.3s ease-in-out; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Navigation -->
    <nav class="bg-white shadow-lg mb-6">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="text-xl font-bold text-indigo-600">
                    üìñ Module & Content Management
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="/dashboard" class="text-gray-700 hover:text-indigo-600 font-medium">Dashboard</a>
                    <a href="/courses" class="text-gray-700 hover:text-indigo-600 font-medium">Courses</a>
                    <a href="/students" class="text-gray-700 hover:text-indigo-600 font-medium">Students</a>
                    <a href="/instructors" class="text-gray-700 hover:text-indigo-600 font-medium">Instructors</a>
                    <a href="/enrollments" class="text-gray-700 hover:text-indigo-600 font-medium">Enrollments</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <!-- Course Information -->
        <div class="bg-white p-6 rounded-lg shadow-md mb-8">
            <div class="flex items-center justify-between">
                <div>
                    <h2 id="course-title" class="text-2xl font-semibold text-gray-700">Course Details</h2>
                    <p id="course-code" class="text-gray-500 mt-1">Loading...</p>
                </div>
                <a href="/courses" class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition duration-200">
                    ‚Üê Back to Courses
                </a>
            </div>
        </div>

        <!-- Two Column Layout -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Modules Section -->
            <div class="space-y-6">
                <!-- Module Form -->
                <div id="module-form-container" class="bg-white p-6 rounded-lg shadow-md">
                    <h3 id="module-form-title" class="text-xl font-semibold mb-4 text-gray-700">Add New Module</h3>
                    <form id="module-form" class="space-y-4">
                        <input type="hidden" id="module-id" name="moduleId">
                        <input type="hidden" id="module-course-id">
                        
                        <div>
                            <label for="module-title" class="block text-sm font-medium text-gray-700">Module Title</label>
                            <input type="text" id="module-title" name="title" placeholder="e.g., Introduction to Programming" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>

                        <div>
                            <label for="module-sequence" class="block text-sm font-medium text-gray-700">Sequence</label>
                            <input type="number" id="module-sequence" name="sequence" placeholder="e.g., 1" required min="1" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>

                        <div class="flex space-x-3">
                            <button type="submit" id="module-submit-btn" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-200">
                                Add Module
                            </button>
                            <button type="button" id="module-cancel-btn" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200" style="display: none;">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Modules List -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-4 text-gray-700">Course Modules</h3>
                    <div id="modules-list" class="space-y-3">
                        <p class="text-gray-500">Loading modules...</p>
                    </div>
                </div>
            </div>

            <!-- Content Items Section -->
            <div class="space-y-6">
                <!-- Content Item Form -->
                <div id="content-form-container" class="bg-white p-6 rounded-lg shadow-md">
                    <h3 id="content-form-title" class="text-xl font-semibold mb-4 text-gray-700">Add Content Item</h3>
                    <form id="content-form" class="space-y-4">
                        <input type="hidden" id="content-id" name="contentId">
                        <input type="hidden" id="content-module-id">
                        
                        <div>
                            <label for="content-type" class="block text-sm font-medium text-gray-700">Content Type</label>
                            <select id="content-type" name="type" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                <option value="">Select Type</option>
                                <option value="VIDEO">Video</option>
                                <option value="DOCUMENT">Document</option>
                                <option value="QUIZ">Quiz</option>
                                <option value="EXERCISE">Exercise</option>
                                <option value="ASSIGNMENT">Assignment</option>
                            </select>
                        </div>

                        <div>
                            <label for="content-title" class="block text-sm font-medium text-gray-700">Title</label>
                            <input type="text" id="content-title" name="title" placeholder="e.g., Introduction Video" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>

                        <div>
                            <label for="content-uri" class="block text-sm font-medium text-gray-700">URI/URL</label>
                            <input type="url" id="content-uri" name="uri" placeholder="https://example.com/content" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>

                        <div>
                            <label for="content-duration" class="block text-sm font-medium text-gray-700">Duration (seconds)</label>
                            <input type="number" id="content-duration" name="duration" placeholder="e.g., 300" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                            <p class="text-xs text-gray-500 mt-1">Optional: Leave blank for documents/quizzes</p>
                        </div>

                        <div>
                            <label for="content-module-select" class="block text-sm font-medium text-gray-700">Module</label>
                            <select id="content-module-select" name="moduleId" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                <option value="">Select Module</option>
                            </select>
                        </div>

                        <div class="flex space-x-3">
                            <button type="submit" id="content-submit-btn" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition duration-200">
                                Add Content
                            </button>
                            <button type="button" id="content-cancel-btn" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200" style="display: none;">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Content Items List -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-4 text-gray-700">Content Items</h3>
                    
                    <!-- Module Selection Dropdown for Content Items -->
                    <div class="mb-4">
                        <label for="content-module-selector" class="block text-sm font-medium text-gray-700 mb-2">Select Module to View Content:</label>
                        <select id="content-module-selector" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="">Choose a module...</option>
                        </select>
                    </div>
                    
                    <div id="content-list" class="space-y-3">
                        <p class="text-gray-500">Select a module to view content items</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success/Error Messages -->
    <div id="success-message" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg hidden z-50">
        <span id="success-text"></span>
    </div>
    
    <div id="error-message" class="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg hidden z-50">
        <span id="error-text"></span>
    </div>

    <!-- JavaScript -->
    <script>
        const userRole = /*[[${userRole}]]*/ '';
        let currentCourseId = null;
        let allModules = [];
        let allContentItems = [];
        let selectedModuleId = null;

        // Load course details and modules on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Get course ID from URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            currentCourseId = urlParams.get('courseId');
            
            if (currentCourseId) {
                loadCourseDetails();
                loadModules();
            } else {
                showError('No course ID provided');
                setTimeout(() => {
                    window.location.href = '/courses';
                }, 2000);
            }

            // Event listeners
            document.getElementById('module-form').addEventListener('submit', handleModuleForm);
            document.getElementById('content-form').addEventListener('submit', handleContentForm);
            document.getElementById('module-cancel-btn').addEventListener('click', cancelModuleEdit);
            document.getElementById('content-cancel-btn').addEventListener('click', cancelContentEdit);
            
            // Content module selector change event
            document.getElementById('content-module-selector').addEventListener('change', function() {
                const selectedModuleId = parseInt(this.value);
                if (selectedModuleId) {
                    selectModuleForContent(selectedModuleId);
                } else {
                    // Clear content list when no module is selected
                    document.getElementById('content-list').innerHTML = '<p class="text-gray-500">Select a module to view content items</p>';
                    selectedModuleId = null;
                }
            });
        });

        // Load course details
        async function loadCourseDetails() {
            try {
                const response = await fetch(`/course/getById/${currentCourseId}`);
                if (response.ok) {
                    const course = await response.json();
                    document.getElementById('course-title').textContent = course.title;
                    document.getElementById('course-code').textContent = `Course Code: ${course.code}`;
                } else {
                    throw new Error('Failed to load course details');
                }
            } catch (error) {
                console.error('Error loading course details:', error);
                showError('Failed to load course details');
            }
        }

        // Load modules for the course
        async function loadModules() {
            try {
                const response = await fetch(`/module/getByCourse/${currentCourseId}`);
                if (response.ok) {
                    allModules = await response.json();
                    displayModules();
                    populateModuleSelect();
                } else {
                    throw new Error('Failed to load modules');
                }
            } catch (error) {
                console.error('Error loading modules:', error);
                showError('Failed to load modules');
                document.getElementById('modules-list').innerHTML = '<p class="text-gray-500">Failed to load modules</p>';
            }
        }

        // Display modules
        function displayModules() {
            const modulesList = document.getElementById('modules-list');
            
            if (allModules.length === 0) {
                modulesList.innerHTML = '<p class="text-gray-500">No modules found for this course</p>';
                return;
            }

            modulesList.innerHTML = allModules.map(module => `
                <div class="border rounded-lg p-4 hover:bg-gray-50 transition duration-200">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${module.title}</h4>
                            <p class="text-sm text-gray-600">Sequence: ${module.sequence}</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="selectModule(${module.moduleId})" 
                                    class="text-blue-600 hover:text-blue-800 font-medium">
                                View Content
                            </button>
                            <button onclick="editModule(${module.moduleId})" 
                                    class="text-indigo-600 hover:text-indigo-800">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                </svg>
                            </button>
                            <button onclick="deleteModule(${module.moduleId})" 
                                    class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Populate module select for content form
        function populateModuleSelect() {
            const select = document.getElementById('content-module-select');
            select.innerHTML = '<option value="">Select Module</option>' + 
                allModules.map(module => `<option value="${module.moduleId}">${module.title}</option>`).join('');
            
            // Also populate the content module selector dropdown
            populateContentModuleSelector();
        }

        // Populate module selector dropdown for content items
        function populateContentModuleSelector() {
            const selector = document.getElementById('content-module-selector');
            
            if (allModules.length === 0) {
                selector.innerHTML = '<option value="">No modules available</option>';
                return;
            }

            selector.innerHTML = '<option value="">Choose a module...</option>' + 
                allModules.map(module => `<option value="${module.moduleId}">${module.title} (Sequence: ${module.sequence})</option>`).join('');
        }

        // Select module to view content
        function selectModule(moduleId) {
            selectedModuleId = moduleId;
            loadContentItems(moduleId);
            
            // Highlight selected module in main list
            document.querySelectorAll('#modules-list .border').forEach(el => el.classList.remove('border-indigo-500', 'bg-indigo-50'));
            event.target.closest('.border').classList.add('border-indigo-500', 'bg-indigo-50');
            
            // Update content module selector to match selection
            document.getElementById('content-module-selector').value = moduleId;
        }

        // Select module for content items (from the dropdown)
        function selectModuleForContent(moduleId) {
            selectedModuleId = moduleId;
            loadContentItems(moduleId);
        }

        // Load content items for a module
        async function loadContentItems(moduleId) {
            try {
                const response = await fetch(`/content/getByModule/${moduleId}`);
                if (response.ok) {
                    const contentItems = await response.json();
                    displayContentItems(contentItems);
                } else {
                    throw new Error('Failed to load content items');
                }
            } catch (error) {
                console.error('Error loading content items:', error);
                showError('Failed to load content items');
                document.getElementById('content-list').innerHTML = '<p class="text-gray-500">Failed to load content items</p>';
            }
        }

        // Display content items
        function displayContentItems(contentItems) {
            const contentList = document.getElementById('content-list');
            
            if (contentItems.length === 0) {
                contentList.innerHTML = '<p class="text-gray-500">No content items found for this module</p>';
                return;
            }

            contentList.innerHTML = contentItems.map(item => `
                <div class="border rounded-lg p-4 hover:bg-gray-50 transition duration-200">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${item.title}</h4>
                            <p class="text-sm text-gray-600">Type: ${item.type}</p>
                            ${item.durationSec ? `<p class="text-sm text-gray-600">Duration: ${item.durationSec}s</p>` : ''}
                            <p class="text-sm text-blue-600 truncate">${item.uri}</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="editContentItem(${item.contentId})" 
                                    class="text-indigo-600 hover:text-indigo-800">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                </svg>
                            </button>
                            <button onclick="deleteContentItem(${item.contentId})" 
                                    class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Module form handling
        async function handleModuleForm(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const moduleId = formData.get('moduleId');
            const isEdit = moduleId && moduleId !== '';
            
            const moduleData = {
                title: formData.get('title'),
                sequence: parseInt(formData.get('sequence')),
                courseId: currentCourseId
            };

            if (isEdit) {
                moduleData.moduleId = parseInt(moduleId);
            }

            try {
                const url = isEdit ? '/module/update' : '/module/save';
                const method = isEdit ? 'PUT' : 'POST';
                
                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(moduleData),
                    credentials: 'same-origin'
                });

                if (response.ok) {
                    document.getElementById('module-form').reset();
                    document.getElementById('module-id').value = '';
                    resetModuleForm();
                    loadModules();
                    showSuccess(isEdit ? 'Module updated successfully!' : 'Module created successfully!');
                } else {
                    throw new Error(isEdit ? 'Failed to update module' : 'Failed to create module');
                }
            } catch (error) {
                console.error('Error with module:', error);
                showError(isEdit ? 'Failed to update module. Please try again.' : 'Failed to create module. Please try again.');
            }
        }

        // Content form handling
        async function handleContentForm(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const contentId = formData.get('contentId');
            const isEdit = contentId && contentId !== '';
            
            const contentData = {
                title: formData.get('title'),
                type: formData.get('type'),
                uri: formData.get('uri'),
                durationSec: formData.get('duration') ? parseInt(formData.get('duration')) : null,
                moduleId: parseInt(formData.get('moduleId'))
            };

            if (isEdit) {
                contentData.contentId = parseInt(contentId);
            }

            try {
                const url = isEdit ? '/content/update' : '/content/save';
                const method = isEdit ? 'PUT' : 'POST';
                
                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(contentData),
                    credentials: 'same-origin'
                });

                if (response.ok) {
                    document.getElementById('content-form').reset();
                    document.getElementById('content-id').value = '';
                    resetContentForm();
                    if (selectedModuleId) {
                        loadContentItems(selectedModuleId);
                    }
                    showSuccess(isEdit ? 'Content updated successfully!' : 'Content created successfully!');
                } else {
                    throw new Error(isEdit ? 'Failed to update content' : 'Failed to create content');
                }
            } catch (error) {
                console.error('Error with content:', error);
                showError(isEdit ? 'Failed to update content. Please try again.' : 'Failed to create content. Please try again.');
            }
        }

        // Edit module
        function editModule(moduleId) {
            const module = allModules.find(m => m.moduleId === moduleId);
            if (module) {
                document.getElementById('module-form-title').textContent = 'Edit Module';
                document.getElementById('module-submit-btn').textContent = 'Update Module';
                document.getElementById('module-id').value = module.moduleId;
                document.getElementById('module-title').value = module.title;
                document.getElementById('module-sequence').value = module.sequence;
                document.getElementById('module-cancel-btn').style.display = 'inline-block';
            }
        }

        // Edit content item
        async function editContentItem(contentId) {
            try {
                const response = await fetch(`/content/getById/${contentId}`);
                if (response.ok) {
                    const item = await response.json();
                    document.getElementById('content-form-title').textContent = 'Edit Content Item';
                    document.getElementById('content-submit-btn').textContent = 'Update Content';
                    document.getElementById('content-id').value = item.contentId;
                    document.getElementById('content-type').value = item.type;
                    document.getElementById('content-title').value = item.title;
                    document.getElementById('content-uri').value = item.uri;
                    document.getElementById('content-duration').value = item.durationSec || '';
                    document.getElementById('content-module-select').value = item.module.moduleId;
                    document.getElementById('content-cancel-btn').style.display = 'inline-block';
                } else {
                    throw new Error('Failed to load content item');
                }
            } catch (error) {
                console.error('Error loading content item:', error);
                showError('Failed to load content item for editing');
            }
        }

        // Delete module
        async function deleteModule(moduleId) {
            if (confirm('Are you sure you want to delete this module? This will also delete all content items in this module.')) {
                try {
                    const response = await fetch(`/module/delete/${moduleId}`, {
                        method: 'DELETE',
                        credentials: 'same-origin'
                    });

                    if (response.ok) {
                        loadModules();
                        if (selectedModuleId === moduleId) {
                            selectedModuleId = null;
                            document.getElementById('content-module-selector').value = '';
                            document.getElementById('content-list').innerHTML = '<p class="text-gray-500">Select a module to view content items</p>';
                        }
                        showSuccess('Module deleted successfully!');
                    } else {
                        throw new Error('Failed to delete module');
                    }
                } catch (error) {
                    console.error('Error deleting module:', error);
                    showError('Failed to delete module. Please try again.');
                }
            }
        }

        // Delete content item
        async function deleteContentItem(contentId) {
            if (confirm('Are you sure you want to delete this content item?')) {
                try {
                    const response = await fetch(`/content/delete/${contentId}`, {
                        method: 'DELETE',
                        credentials: 'same-origin'
                    });

                    if (response.ok) {
                        if (selectedModuleId) {
                            loadContentItems(selectedModuleId);
                        }
                        showSuccess('Content item deleted successfully!');
                    } else {
                        throw new Error('Failed to delete content item');
                    }
                } catch (error) {
                    console.error('Error deleting content item:', error);
                    showError('Failed to delete content item. Please try again.');
                }
            }
        }

        // Reset forms
        function resetModuleForm() {
            document.getElementById('module-form-title').textContent = 'Add New Module';
            document.getElementById('module-submit-btn').textContent = 'Add Module';
            document.getElementById('module-cancel-btn').style.display = 'none';
        }

        function resetContentForm() {
            document.getElementById('content-form-title').textContent = 'Add Content Item';
            document.getElementById('content-submit-btn').textContent = 'Add Content';
            document.getElementById('content-cancel-btn').style.display = 'none';
        }

        function cancelModuleEdit() {
            document.getElementById('module-form').reset();
            document.getElementById('module-id').value = '';
            resetModuleForm();
        }

        function cancelContentEdit() {
            document.getElementById('content-form').reset();
            document.getElementById('content-id').value = '';
            resetContentForm();
        }

        // Utility functions
        function showSuccess(message) {
            const successDiv = document.getElementById('success-message');
            document.getElementById('success-text').textContent = message;
            successDiv.classList.remove('hidden');
            setTimeout(() => {
                successDiv.classList.add('hidden');
            }, 3000);
        }

        function showError(message) {
            const errorDiv = document.getElementById('error-message');
            document.getElementById('error-text').textContent = message;
            errorDiv.classList.remove('hidden');
            setTimeout(() => {
                errorDiv.classList.add('hidden');
            }, 3000);
        }
    </script>
</body>
</html>